spring.application.name=StailenceBack

# Datasource (ajusta según tu entorno local)
spring.datasource.url=jdbc:mysql://localhost:3306/StailenceBD?useSSL=false&serverTimezone=UTC&useLegacyDatetimeCode=false
spring.datasource.username=root
spring.datasource.password=
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# Hibernate / JPA
# Let Hibernate autodetect the proper dialect for MySQL (recommended). If you need to force one, set `spring.jpa.database-platform`.
# Removed explicit `org.hibernate.dialect.MySQLDialect` to avoid classloader/version issues.
# Use the newer property to allow JDBC metadata access instead of the deprecated one.
spring.jpa.properties.hibernate.boot.allow_jdbc_metadata_access=true

# En desarrollo puedes usar 'update' para sincronizar tablas; en producción usar 'validate' o gestionar migraciones
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true

# Pool (HikariCP) ajustes opcionales
spring.datasource.hikari.maximum-pool-size=10

# Devtools: deshabilitar reinicio para evitar conflictos de classloader en desarrollo local
spring.devtools.restart.enabled=false

# JWT (usa variable de entorno en producción)
app.jwt.secret=bW9ja19qd3Rfc2VjcmV0X2tleV9kZXRlY3QxMjM0NTY=
# app.jwt.secret=${APP_JWT_SECRET:change_me}
app.jwt.expiration-ms=86400000
app.jwt.refresh-expiration-ms=604800000

# CORS
app.cors.allowed-origins=http://localhost:3000,http://localhost:8080

# Logging (si necesitas más detalle descomenta)
# logging.level.org.hibernate.SQL=DEBUG
# logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE
logging.level.com.example.sistemas.stailenceback.security=DEBUG
